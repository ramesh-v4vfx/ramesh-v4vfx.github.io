<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DZMEQ7NQCD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DZMEQ7NQCD');
</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Surface Gravity Calculator üåçüß≤</title>

<style>
  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    background: #0f172a;
    color: #e5e7eb;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    min-height: 100svh;  /* Safari-safe */
    margin: 0;
    padding: 16px;
    overflow-x: hidden; 
  }

  .card {
    background: #020617;
    border-radius: 18px;
    padding: 22px;
    max-width: 460px;
    width: 100%;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  }

  h1 {
    text-align: center;
    font-size: 1.45rem;
    margin-bottom: 20px;
  }

  .field {
    margin-bottom: 18px;
  }

  .field label {
    display: block;
    font-size: 0.9rem;
    margin-bottom: 6px;
    color: #cbd5f5;
  }

  .input-group {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.field input,
.paste-btn {
  width: 100%;
  box-sizing: border-box;
}


  .field input {
    width: 100%;
    padding: 14px;
    border-radius: 12px;
    border: none;
    font-size: 1.05rem;
    background: #0f172a;
    color: #e5e7eb;
  }

  .field input::placeholder {
    color: #94a3b8;
  }

  .paste-btn {
    margin-top: 6px;
    width: 100%;
    padding: 10px;
    border-radius: 10px;
    border: none;
    font-size: 0.85rem;
    font-weight: 600;
    background: #1e293b;
    color: #e5e7eb;
    cursor: pointer;
    transition: transform 0.15s ease, background 0.15s ease;
  }

  .paste-btn:hover {
    background: #334155;
    transform: translateY(-1px);
  }

  .paste-btn:active {
    transform: scale(0.97);
  }

  .calculate-btn {
    margin-top: 10px;
    width: 100%;
    padding: 15px;
    font-size: 1.05rem;
    font-weight: 700;
    border: none;
    border-radius: 14px;
    background: #38bdf8;
    color: #020617;
    cursor: pointer;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }

  .calculate-btn:hover {
    box-shadow: 0 8px 20px rgba(56,189,248,0.35);
    transform: translateY(-2px);
  }

  .calculate-btn:active {
    transform: scale(0.98);
  }

  .result-box {
    margin-top: 20px;
    padding: 14px;
    border-radius: 12px;
    border: 1px solid #1e293b;
    display: none;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
  }

  .result-text {
    font-size: 1.05rem;
  }

  .copy-btn {
    padding: 10px 12px;
    font-size: 0.85rem;
    font-weight: 600;
    border-radius: 10px;
    border: none;
    background: #22c55e;
    color: #022c22;
    cursor: pointer;
    transition: transform 0.15s ease;
  }

  .copy-btn:hover {
    transform: translateY(-1px);
  }

  .copy-btn:active {
    transform: scale(0.97);
  }

  .note {
    margin-top: 14px;
    font-size: 0.8rem;
    text-align: center;
    color: #94a3b8;
  }

  .history-toggle {
  margin-top: 14px;
  width: 100%;
  padding: 12px;
  border-radius: 12px;
  border: none;
  font-weight: 600;
  background: #1e293b;
  color: #e5e7eb;
  cursor: pointer;
  transition: transform 0.15s ease;
}

.history-toggle:hover {
  transform: translateY(-1px);
}

.history-panel {
  margin-top: 12px;
  border: 1px solid #1e293b;
  border-radius: 12px;
  padding: 12px;
  background: #020617;
}

.history-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.clear-history-btn {
  padding: 6px 10px;
  font-size: 0.8rem;
  border-radius: 8px;
  border: none;
  background: #ef4444;
  color: #fff;
  cursor: pointer;
}

.clear-history-btn:active {
  transform: scale(0.96);
}

#historyList {
  list-style: none;
  padding: 0;
  margin: 0;
}

#historyList li {
  font-size: 0.85rem;
  padding: 6px 0;
  border-bottom: 1px solid #1e293b;
}

#historyList li:last-child {
  border-bottom: none;
}

.reset-btn {
  margin-top: 10px;
  width: 100%;
  padding: 13px;
  font-size: 1rem;
  font-weight: 700;
  border-radius: 14px;
  border: none;
  background: #ef4444; /* red */
  color: #fff;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.reset-btn:hover {
  box-shadow: 0 8px 20px rgba(239,68,68,0.35);
  transform: translateY(-2px);
}

.reset-btn:active {
  transform: scale(0.97);
}

.dec-toggle {
  margin-top: 12px;
  display: flex;
  gap: 8px;
}

.dec-toggle button {
  flex: 1;
  padding: 10px;
  font-size: 0.85rem;
  font-weight: 600;
  border-radius: 10px;
  border: none;
  background: #1e293b;
  color: #e5e7eb;
  cursor: pointer;
  transition: transform 0.15s ease, background 0.15s ease;
}

.dec-toggle button:hover {
  background: #334155;
  transform: translateY(-1px);
}

.dec-toggle button:active {
  transform: scale(0.96);
}

.dec-toggle button {
  border: 2px solid transparent;
}

.dec-toggle button.active {
  border: 2px solid #ef4444; /* red */
}

button {
  min-height: 44px;
}

.result-text {
  word-break: break-all;
}

html, body {
  height: 100%;
  background: #0f172a;
}




@media (max-width: 480px) {

  .card {
    padding: 18px;
    border-radius: 16px;
  }

  h1 {
    font-size: 1.3rem;
  }

  .field input {
    font-size: 1rem;
    padding: 14px;
  }

  .paste-btn {
    font-size: 0.9rem;
    padding: 12px;
  }

  .calculate-btn,
  .reset-btn,
  .history-toggle {
    padding: 15px;
    font-size: 1.05rem;
  }

  .result-box {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }

  .copy-btn {
    width: 100%;
    text-align: center;
  }

.dec-toggle {
  display: flex;
  gap: 8px;
}

.dec-toggle button {
  flex: 1;
}


  .dec-toggle button {
    width: 100%;
    padding: 12px;
    font-size: 0.95rem;
    border: 2px solid transparent;
  }

  .history-header {
    flex-direction: column;
    gap: 6px;
    align-items: flex-start;
  }

  .clear-history-btn {
    width: 100%;
    padding: 10px;
  }

  #historyList li {
    font-size: 0.9rem;
  }
}

</style>
</head>

<body>

<div class="card">
  <h1>Find Surface Gravity üåçüß≤ & Escape Velocity üöÄ</h1>

  <!-- Mass -->
  <div class="field">
  <label>Mass (kg)</label>

  <div class="input-group">
    <input
      id="mass"
      type="text"
      placeholder="e.g. 5.9722e24 or 5,972,200,..."
      oninput="formatSimple(this)">

    <button class="paste-btn" onclick="pasteValue('mass')">
      Paste mass
    </button>
  </div>
</div>


  <!-- Radius -->
  <div class="field">
  <label>Radius (m)</label>

  <div class="input-group">
    <input
      id="radius"
      type="text"
      placeholder="e.g. 6.371e6 or 6,371,..."
      oninput="formatSimple(this)">

    <button class="paste-btn" onclick="pasteValue('radius')">
      Paste radius
    </button>
  </div>
</div>

  

  <button class="calculate-btn" onclick="calculateGravity()">Calculate g</button>
  <button class="reset-btn" onclick="resetCalculator()">Reset</button>


  <!-- Result -->
  <div class="result-box" id="resultBox">
    <div class="result-text" id="resultText"></div>
    <button class="copy-btn" onclick="copyResult()">Copy</button>
  </div>

  <!-- Escape Velocity -->
<div class="result-box" id="escapeBox" style="display:none;">
  <div class="result-text" id="escapeText"></div>
  <button class="copy-btn" onclick="copyEscape()">Copy</button>
</div>

<button
  class="calculate-btn"
  id="escapeBtn"
  style="display:none; margin-top:10px; background:#a855f7; color:#020617;"
  onclick="calculateEscape()">
  üöÄ Escape Velocity
</button>


  <div class="dec-toggle">
  <button data-mode="raw" onclick="setMode('raw')">Raw</button>
  <button data-mode="5" onclick="setMode(5)">5 dec</button>
  <button data-mode="3" onclick="setMode(3)">3 dec</button>
</div>




  <!-- History Toggle -->
<button class="history-toggle" onclick="toggleHistory()">
  üìú Show History (Last five)
</button>

<!-- History Panel -->
<div class="history-panel" id="historyPanel" style="display:none;">
  <div class="history-header">
    <strong>Last 5 Calculations</strong>
    <button class="clear-history-btn" onclick="clearHistory()">Clear</button>
  </div>
  <ul id="historyList"></ul>
</div>


  <div class="note">
    Formula: g = GM / R¬≤<br>
    Earth ‚âà 9.81 m/s¬≤
  </div>
</div>

<script>
  const G = 6.674e-11;
  const EARTH_G = 9.80665;
  let lastResult = "";

  let history = [];
  let historyOpen = false;

  let rawG = null;
  let rawEarthG = null;
  let currentMode = "raw"; // "raw" | 5 | 3

  let rawEscapeV = null;

  const EARTH_ESCAPE = 11186; // m/s
  let rawEscapeEarth = null;



  function parseFlexibleNumber(value) {
    if (!value) return NaN;
    return Number(value.replace(/,/g, ""));
  }

  function formatSimple(input) {
  let value = input.value.trim();

  // If scientific notation is used, don't format
  if (/e/i.test(value)) return;

  // Remove commas
  value = value.replace(/,/g, "");

  // Stop if invalid
  if (value === "" || isNaN(value)) return;

  // Format with commas
  input.value = Number(value).toLocaleString("en-US");
}


  function calculateGravity() {
    const mass = parseFlexibleNumber(document.getElementById("mass").value);
    const radius = parseFlexibleNumber(document.getElementById("radius").value);

    if (!isFinite(mass) || !isFinite(radius) || mass <= 0 || radius <= 0) {
      alert("Please enter valid mass and radius values.");
      return;
    }

    // Calculate once (raw values)
rawG = (G * mass) / (radius * radius);
rawEarthG = rawG / EARTH_G;

// Render according to CURRENT active mode
renderResult();


// Show result box
document.getElementById("resultBox").style.display = "flex";


    document.getElementById("resultBox").style.display = "flex";

    // ‚ûï Add to history
      addToHistory(rawG, rawEarthG);

      // Show result box
document.getElementById("resultBox").style.display = "flex";

// ‚úÖ Enable Escape Velocity button
document.getElementById("escapeBtn").style.display = "block";

// History
addToHistory(rawG, rawEarthG);

  }

  function toDecimal(num, decimals = null) {
  if (decimals === null) {
    return num.toLocaleString("en-US", {
      useGrouping: true,
      maximumFractionDigits: 20
    });
  }

  return num.toLocaleString("en-US", {
    useGrouping: false,
    minimumFractionDigits: decimals,
    maximumFractionDigits: decimals
  });
}

function renderResult() {
  if (rawG === null) return;

  let gText, earthText;

  if (currentMode === "raw") {
    gText = toDecimal(rawG);
    earthText = toDecimal(rawEarthG);
  } else {
    gText = toDecimal(rawG, currentMode);
    earthText = toDecimal(rawEarthG, currentMode);
  }

  lastResult = `${gText} m/s¬≤ (${earthText} g)`;

  document.getElementById("resultText").innerHTML = `
    <strong>Surface Gravity</strong><br>
    ${gText} m/s¬≤<br>
    ${earthText} g (Earth)
  `;
}

function calculateEscape() {
  if (rawG === null) return;

  const radius = parseFlexibleNumber(document.getElementById("radius").value);

  rawEscapeV = Math.sqrt(2 * rawG * radius);
  rawEscapeEarth = rawEscapeV / EARTH_ESCAPE;

  renderEscape();
  document.getElementById("escapeBox").style.display = "flex";
}


function renderEscape() {
  if (rawEscapeV === null) return;

  let vText, earthText;

  if (currentMode === "raw") {
    vText = toDecimal(rawEscapeV);
    earthText = toDecimal(rawEscapeEarth);
  } else {
    vText = toDecimal(rawEscapeV, currentMode);
    earthText = toDecimal(rawEscapeEarth, currentMode);
  }

  lastEscape = `${vText} m/s (${earthText} x Earth's escape velocity)`;

  document.getElementById("escapeText").innerHTML = `
    <strong>Escape Velocity</strong><br>
    ${vText} m/s<br>
    ${earthText} x Earth's escape velocity
  `;
}


let lastEscape = "";

function copyEscape() {
  navigator.clipboard.writeText(lastEscape);
}

  async function pasteValue(id) {
    try {
      const text = await navigator.clipboard.readText();
      const input = document.getElementById(id);
      const num = parseFlexibleNumber(text);

      if (!isFinite(num)) {
        alert("Invalid number in clipboard.");
        return;
      }

      if (Math.abs(num) >= 1e15) {
        input.value = num.toExponential(5);
      } else {
        input.value = num.toLocaleString("en-US");
      }
    } catch {
      alert("Clipboard access not allowed.");
    }
  }

  function copyResult() {
    navigator.clipboard.writeText(lastResult);
  }

  function addToHistory(g, earthG) {
  const entry = `${g.toFixed(3)} m/s¬≤ (${earthG.toFixed(3)} g)`;

  history.unshift(entry);

  if (history.length > 5) {
    history.pop();
  }

  renderHistory();
}

function renderHistory() {
  const list = document.getElementById("historyList");
  list.innerHTML = "";

  history.forEach(item => {
    const li = document.createElement("li");
    li.textContent = item;
    list.appendChild(li);
  });
}

function toggleHistory() {
  historyOpen = !historyOpen;

  const panel = document.getElementById("historyPanel");
  const btn = document.querySelector(".history-toggle");

  panel.style.display = historyOpen ? "block" : "none";
  btn.textContent = historyOpen ? "üìú Hide History" : "üìú Show History";
}

function clearHistory() {
  history = [];
  renderHistory();

  // Close panel after clearing
  historyOpen = false;
  document.getElementById("historyPanel").style.display = "none";
  document.querySelector(".history-toggle").textContent = "üìú Show History";
}

function resetCalculator() {
  // Clear inputs
  document.getElementById("mass").value = "";
  document.getElementById("radius").value = "";

  // Hide result
  document.getElementById("resultBox").style.display = "none";
  lastResult = "";

  // Close history panel (do NOT clear history)
  historyOpen = false;
  document.getElementById("historyPanel").style.display = "none";
  document.querySelector(".history-toggle").textContent = "üìú Show History";

  rawEscapeV = null;
lastEscape = "";

document.getElementById("escapeBox").style.display = "none";
document.getElementById("escapeBtn").style.display = "none";

rawEscapeEarth = null;


}

function setMode(mode) {
  currentMode = mode;

  // Highlight active button
  document.querySelectorAll(".dec-toggle button")
    .forEach(b => b.classList.remove("active"));

  document.querySelector(
    `.dec-toggle button[data-mode="${mode}"]`
  ).classList.add("active");

  // If result already exists, re-render it
  if (rawG !== null) {
    renderResult();
  }

  if (rawG !== null) {
  renderResult();
}

if (rawEscapeV !== null) {
  renderEscape();
}

}

setMode("raw");




</script>

